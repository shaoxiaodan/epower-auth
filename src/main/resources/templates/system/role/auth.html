<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>user auth page</title>

	<!-- for Anchor -->
	<link href="https://fonts.googleapis.com/css?family=Nunito:300,300i,400,600,800" rel="stylesheet">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
		integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

	<link rel="stylesheet" th:href="@{/css/all.css}">
	<link rel="stylesheet" th:href="@{/css/main.css}">
	<link rel="stylesheet" th:href="@{/css/aos.css}">
	<script th:src="@{/js/jquery.min.js}" type="text/javascript"></script>
	<script th:src="@{/js/bootstrap.min.js}" type="text/javascript"></script>

	<!-- for boomerang 
		<link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700,800|Roboto:400,500,700" rel="stylesheet">
		<link rel="stylesheet" th:href="@{/css/theme.css}">
		<script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
		<script type="text/javascript" th:src="@{/js/popper.min.js}"></script>
		<script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
		<script type="text/javascript" th:src="@{/js/fontawesome-all.min.js}"></script>
		-->


	<script type="text/javascript">
		function testRoles() {
			//var obj = document.getElementsByName("select_roles");
			var obj = document.forms[0].elements["select_roles"];

			for (var i = 0; i < obj.length; i++) {
				if (obj.options[i].selected) {
					alert(obj.options[i].value);
				}
			}
		}
	</script>

</head>

<body>

	<!-- 顶部菜单组件 -->
	<div th:insert="~{system/common/component::#mymenu}"></div>

	<div align="center">
		<h1>菜单配置</h1>
	</div>

	<div>
		<h5 class="mb-4 text-left">当前配置角色：[[${role.name}]]</h5>
	</div>

	<div>
		<h5 class="mb-4 text-left">
			<form th:object="${addmenu}" th:action="@{addmenu}" method="post"
				onsubmit="return chkRoleSelect('menuselector');">
				<input type="hidden" name="roleId" th:value="*{roleId}">
				<select class="selectpicker" id="menuselector" name="menuselector" th:field="*{menuId}">
					<option value="0">---- 请选择配置菜单 ----</option>
					<option th:each="menu:${menus}" th:value="${menu.id}" th:text="${menu.name}">
						菜单名称
					</option>
				</select>
				<button type="submit" class="btn btn-primary">添加到角色</button>
			</form>
		</h5>
	</div>


	<div>
		<table class="table table-hover align-items-center">
			<thead class="thead-light">
				<tr>
					<th>ID</th>
					<th>菜单名称</th>
					<th>菜单说明</th>
					<th>创建日期</th>
					<th>更新日期</th>
					<th>操作</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="rolemenu:${rolemenus}">
					<td th:text="${rolemenu.id}"></td>
					<td th:text="${rolemenu.name}"></td>
					<td th:text="${rolemenu.description}"></td>
					<td th:text="${rolemenu.createTime}"></td>
					<td th:text="${rolemenu.updateTime}"></td>
					<td>
						<a class="btn btn-outline-primary"
							th:href="@{removemenu(rid=${role.id}, mid=${rolemenu.id})}">删除菜单</a>
					</td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<td colspan="6">
						<a class="btn btn-outline-primary" th:href="@{list}">返回角色列表</a>
					</td>
				</tr>
			</tfoot>
		</table>
	</div>

	<div th:insert="~{system/common/component::#myfooter}"></div>

</body>

</html>